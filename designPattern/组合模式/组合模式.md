# 组合模式 #
　　组合模式：
> **将对象组合成树形结构以表示“部分-整体”的层次结构。组合模式使得用户对单个对象和组合对象的使用具有一致性。**实际就是部分与整体能够被一致对待的问题。

　　组合模式的结构图：
![](https://github.com/herodll/myblog/blob/master/designPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%9F%BA%E7%A1%80%E7%AF%87/%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84%E5%9B%BE.jpg)
　　 

  　　如上图所示：Component是组合对象声明的接口，在适当情况下，实现所有类共有接口的默认行为，声明一个接口用于访问和管理Component的子部件。Composite定义存储叶节点的行为，用来存储子部件，在Component接口中实现与子部件有关的操作。既然是叶节点的组合，那么在该类中，属性就是一个存有多个Component的list，并且该类重写了Component定义的方法。<br>

　　当树叶不可以再长分支的时候，这种方式叫做**透明方式**，也就是说在Component中声明所有的用来管理子对象的方法，这样树叶子类和枝节点对于外界没有区别，它们具有完全一致的接口，但有一个问题就是其实叶子节点有些增加或者移除的操作是不能进行的，所以实现它没有意义。如果不想让叶节点类去做这些无用功，那么就是**安全模式**，也就是Component接口中不去声明增加和移除方法，那么叶子类不用实现其方法，而在枝节点类中声明管理子类对象的方法，这样就不会使得树节点有其不具备的操作，但同时树节点和枝节点也没有了相同的接口，这时，客户端就需要在调用时做判断，带来了不便。<br>
　　组合模式的好处在于其定义了基础对象和组合对象的类层次结构，基本对象可以被组合成更加复杂的组合对象，而这个组合对象又可以被组合，这样不断地递归下去，客户代码中，任何用到基本对象的地方都可以使用组合对象了。用户不用关心到底是叶节点还是枝节点。组合模式让客户可以一致使用组合结构和单个对象。
　　举个例子：比如文件夹里面可以存放文件，也可以存放文件夹，有增删改查的操作。